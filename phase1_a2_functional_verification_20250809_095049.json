{
  "metadata": {
    "verification_type": "A2_functional_verification",
    "timestamp": "2025-08-09T09:50:49.874457",
    "verification_completed": true
  },
  "verification_results": {
    "scan_behavior_analysis": {
      "scan_trigger_points": [
        {
          "trigger": "registry_initialization",
          "timestamp": "2025-08-09T09:50:49.775317",
          "files_scanned": 334,
          "success": true
        }
      ],
      "scan_scope_analysis": {
        "total_scanned_files": 334,
        "expected_files_for_proportional": 2,
        "overhead_files": 332,
        "efficiency_ratio": 0.005988023952095809,
        "waste_ratio": 0.9940119760479041
      },
      "scan_efficiency_analysis": {},
      "scan_pattern_analysis": {
        "file_types_scanned": {
          ".json": 24,
          ".parquet": 210,
          ".csv": 19,
          ".xlsx": 81
        },
        "data_types_detected": {
          "DataType.SHORTAGE": 33,
          "DataType.OPTIMIZATION": 13,
          "DataType.PROPORTIONAL_ABOLITION_ORG": 1,
          "DataType.PROPORTIONAL_ABOLITION_ROLE": 1,
          "DataType.NEED_DATA": 87,
          "DataType.FORECAST": 29,
          "DataType.HEATMAP": 162,
          "DataType.INTERMEDIATE": 8
        },
        "proportional_abolition_files": [
          "proportional_abolition_organization_summary.parquet",
          "proportional_abolition_role_summary.parquet"
        ]
      }
    },
    "file_detection_analysis": {
      "detection_accuracy": {
        "true_positives": [
          "proportional_abolition_role_summary.parquet",
          "proportional_abolition_organization_summary.parquet"
        ],
        "false_positives": [],
        "false_negatives": [
          "proportional_shortage_helper.py",
          "test_proportional_abolition_data_access.py",
          "add_proportional_abolition_tab_to_dash_app.py",
          "analyze_proportional_calculation.py",
          "test_dash_proportional_abolition_integration.py",
          "test_proportional_calculation.py",
          "test_proportional_tab_functionality.py",
          "dash_app_proportional_abolition_patch_20250808_093624.py",
          "analyze_proportional_problems.py",
          "proportional_abolition_metadata.json",
          "add_proportional_abolition_to_app_py.py",
          "PROPORTIONAL_SIDE_EFFECTS_ANALYSIS.md"
        ],
        "precision": 1.0,
        "recall": 0.14285714285714285
      },
      "false_positives": [],
      "false_negatives": [],
      "detection_logic_evaluation": {}
    },
    "metadata_generation_analysis": {
      "metadata_completeness": {
        "total_metadata_entries": 334,
        "complete_entries": 334,
        "incomplete_entries": 0,
        "completeness_rate": 1.0,
        "field_coverage": {
          "data_type": 334,
          "stage": 334,
          "priority": 334,
          "hash_value": 334,
          "size_bytes": 334
        }
      },
      "metadata_accuracy": {},
      "metadata_overhead": {},
      "metadata_utility": {
        "proportional_abolition_metadata": 2,
        "total_metadata": 334,
        "utility_ratio": 0.005988023952095809,
        "overhead_metadata": 332
      }
    },
    "proportional_abolition_access": {
      "access_success_rate": {
        "successful_accesses": 2,
        "total_attempts": 2,
        "success_rate": 1.0
      },
      "access_performance": {
        "average_access_time_seconds": 0.023062400054186583,
        "access_results": [
          {
            "data_type": "DataType.PROPORTIONAL_ABOLITION_ROLE",
            "description": "按分廃止職種データ",
            "access_time_seconds": 0.04264190001413226,
            "success": true,
            "data_shape": [
              5,
              6
            ],
            "data_size_mb": 0.000919342041015625
          },
          {
            "data_type": "DataType.PROPORTIONAL_ABOLITION_ORG",
            "description": "按分廃止組織データ",
            "access_time_seconds": 0.003482900094240904,
            "success": true,
            "data_shape": [
              1,
              5
            ],
            "data_size_mb": 0.00021076202392578125
          }
        ]
      },
      "data_quality": {},
      "access_path_analysis": {}
    },
    "system_functionality_summary": {
      "overall_functionality_score": 5.258055317935557,
      "functional_areas_assessment": {
        "scan_functionality": {
          "score": 0.059880239520958084,
          "efficiency_ratio": 0.005988023952095809,
          "assessment": "poor"
        },
        "detection_functionality": {
          "score": 5.7142857142857135,
          "precision": 1.0,
          "recall": 0.14285714285714285,
          "assessment": "fair"
        },
        "access_functionality": {
          "score": 10.0,
          "success_rate": 1.0,
          "assessment": "excellent"
        }
      },
      "critical_issues": [
        {
          "area": "scan_efficiency",
          "issue": "スキャン効率が0.6%と極めて低い",
          "impact": "high",
          "recommendation": "スキャン対象の最適化が急務"
        }
      ],
      "optimization_opportunities": [
        {
          "area": "scan_optimization",
          "opportunity": "スキャン対象の99.4%が按分廃止に不要",
          "potential_improvement": "大幅な性能向上が期待",
          "implementation_complexity": "medium"
        }
      ],
      "next_phase_recommendations": [
        "システム修復後にB1検証実施"
      ]
    }
  },
  "key_findings": [
    {
      "finding": "scan_efficiency_extremely_low",
      "description": "334ファイルをスキャンして按分廃止2ファイルにアクセス",
      "efficiency_percentage": 0.5988023952095809,
      "severity": "critical",
      "evidence": "効率性0.6%, 無駄度99.4%"
    },
    {
      "finding": "data_access_functionality",
      "description": "按分廃止データアクセス機能の評価",
      "success_rate": 1.0,
      "severity": "positive",
      "assessment": "良好"
    }
  ],
  "phase1_completion_status": {
    "a1_performance_completed": true,
    "a2_functional_completed": true,
    "ready_for_b1_implementation": false,
    "phase1_overall_success": false,
    "blocking_issues": [
      "スキャン効率が0.6%と極めて低い",
      "機能性スコア低下(5.3/10)"
    ],
    "next_steps": [
      "システム改善後にB1検証実施"
    ]
  }
}