{
  "analysis_metadata": {
    "timestamp": "2025-07-28T22:59:05.002311",
    "file": "temp_デイ_テスト用データ_休日精緻.xlsx",
    "method": "advanced_constraint_discovery"
  },
  "discovery_summary": {
    "total_constraints": 8,
    "constraint_types": {
      "dynamic_soft": 8
    },
    "constraint_axes": {
      "staff": 8
    }
  },
  "constraint_rules": [
    {
      "rule_id": "STAFF_SPEC_有ユウ_有給ユウキュウ",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '有ユウ'",
      "action": "シフト == '有給ユウキュウ' (優先度: 50%)",
      "confidence": 1.0,
      "measurement": 50.0,
      "violation_penalty": "INFO: 推奨配置と異なる",
      "evidence": {
        "specialization_score": 0.5,
        "evidence_count": 1,
        "continuity": 0.5,
        "concentration": 1.0
      }
    },
    {
      "rule_id": "STAFF_SPEC_冬フユ_施設休",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '冬フユ'",
      "action": "シフト == '施設休' (優先度: 50%)",
      "confidence": 1.0,
      "measurement": 50.0,
      "violation_penalty": "INFO: 推奨配置と異なる",
      "evidence": {
        "specialization_score": 0.5,
        "evidence_count": 1,
        "continuity": 0.5,
        "concentration": 1.0
      }
    },
    {
      "rule_id": "STAFF_SPEC_×_希望休キボウキュウ",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '×'",
      "action": "シフト == '希望休キボウキュウ' (優先度: 50%)",
      "confidence": 1.0,
      "measurement": 50.0,
      "violation_penalty": "INFO: 推奨配置と異なる",
      "evidence": {
        "specialization_score": 0.5,
        "evidence_count": 1,
        "continuity": 0.5,
        "concentration": 1.0
      }
    },
    {
      "rule_id": "STAFF_SPEC_休ヤス_施設休",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '休ヤス'",
      "action": "シフト == '施設休' (優先度: 50%)",
      "confidence": 1.0,
      "measurement": 50.0,
      "violation_penalty": "INFO: 推奨配置と異なる",
      "evidence": {
        "specialization_score": 0.5,
        "evidence_count": 1,
        "continuity": 0.5,
        "concentration": 1.0
      }
    },
    {
      "rule_id": "WORKLOAD_有ユウ",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '有ユウ'",
      "action": "負荷増加推奨 (現在: 0.4倍)",
      "confidence": 0.6122448979591837,
      "measurement": 61.224489795918366,
      "violation_penalty": "INFO: 負荷不足",
      "evidence": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load"
      }
    },
    {
      "rule_id": "WORKLOAD_冬フユ",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '冬フユ'",
      "action": "負荷増加推奨 (現在: 0.4倍)",
      "confidence": 0.6122448979591837,
      "measurement": 61.224489795918366,
      "violation_penalty": "INFO: 負荷不足",
      "evidence": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load"
      }
    },
    {
      "rule_id": "WORKLOAD_×",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '×'",
      "action": "負荷増加推奨 (現在: 0.4倍)",
      "confidence": 0.6122448979591837,
      "measurement": 61.224489795918366,
      "violation_penalty": "INFO: 負荷不足",
      "evidence": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load"
      }
    },
    {
      "rule_id": "WORKLOAD_休ヤス",
      "constraint_type": "dynamic_soft",
      "axis": "staff",
      "condition": "スタッフ == '休ヤス'",
      "action": "負荷増加推奨 (現在: 0.4倍)",
      "confidence": 0.6122448979591837,
      "measurement": 61.224489795918366,
      "violation_penalty": "INFO: 負荷不足",
      "evidence": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load"
      }
    }
  ],
  "deep_patterns": {
    "staff_specialization": {
      "有ユウ": {
        "primary_specializations": {
          "有給ユウキュウ": {
            "ratio": 1.0,
            "continuity": 0.5,
            "concentration": 1.0,
            "specialization_score": 0.5,
            "evidence_count": 1,
            "classification": "partial_specialist"
          }
        },
        "versatility_index": 1.0,
        "consistency_score": 1.0
      },
      "冬フユ": {
        "primary_specializations": {
          "施設休": {
            "ratio": 1.0,
            "continuity": 0.5,
            "concentration": 1.0,
            "specialization_score": 0.5,
            "evidence_count": 1,
            "classification": "partial_specialist"
          }
        },
        "versatility_index": 1.0,
        "consistency_score": 1.0
      },
      "×": {
        "primary_specializations": {
          "希望休キボウキュウ": {
            "ratio": 1.0,
            "continuity": 0.5,
            "concentration": 1.0,
            "specialization_score": 0.5,
            "evidence_count": 1,
            "classification": "partial_specialist"
          }
        },
        "versatility_index": 1.0,
        "consistency_score": 1.0
      },
      "休ヤス": {
        "primary_specializations": {
          "施設休": {
            "ratio": 1.0,
            "continuity": 0.5,
            "concentration": 1.0,
            "specialization_score": 0.5,
            "evidence_count": 1,
            "classification": "partial_specialist"
          }
        },
        "versatility_index": 1.0,
        "consistency_score": 1.0
      }
    },
    "temporal_patterns": {
      "daily_patterns": {},
      "weekly_patterns": {},
      "sequence_patterns": {},
      "rhythm_patterns": {}
    },
    "workload_distribution": {
      "◎": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "浴ヨク": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "マ": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "Ｆ": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "○": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "▲": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "●": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "浴●ヨク": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "研修ケンシュウ": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "●2H": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "●◎": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "◎×": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "●半ハン": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "有ユウ": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "冬フユ": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "×": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "休ヤス": {
        "absolute_load": 1,
        "relative_load": 0.3877551020408163,
        "load_classification": "minimal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "半ハン": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      },
      "浴2Hヨク": {
        "absolute_load": 3,
        "relative_load": 1.163265306122449,
        "load_classification": "normal_load",
        "load_consistency": 1.0,
        "peak_periods": []
      }
    },
    "relationship_patterns": {
      "shift_correlations": {
        "0.5-半日出勤ハンニチシュッキン": 0.3333333333333333,
        "0.5-リーダー午後半休ゴゴハンキュウ": 0.3333333333333333,
        "0.5-外会午後休みソトカイゴゴヤス": 0.3333333333333333,
        "0.75-外会リーダーソトカイ": 0.5,
        "0.75-リーダー": 0.5,
        "0.3958333333333333-0.4791666666666667": 1.0,
        "0.3333333333333333-0.7083333333333334": 1.0,
        "0.4791666666666667-入浴介助ニュウヨクカイジョ": 0.5
      },
      "staff_interactions": {},
      "coverage_patterns": {}
    },
    "anomaly_patterns": {
      "staff_anomalies": {},
      "shift_anomalies": {},
      "pattern_anomalies": {}
    },
    "sequence_patterns": {},
    "frequency_patterns": {
      "shift_frequencies": {
        "0.375": {
          "count": 5,
          "frequency": 0.10204081632653061,
          "rarity_level": "common"
        },
        "0.75": {
          "count": 2,
          "frequency": 0.04081632653061224,
          "rarity_level": "rare"
        },
        "リーダー": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "0.3541666666666667": {
          "count": 7,
          "frequency": 0.14285714285714285,
          "rarity_level": "common"
        },
        "0.7291666666666666": {
          "count": 7,
          "frequency": 0.14285714285714285,
          "rarity_level": "common"
        },
        "入浴介助ニュウヨクカイジョ": {
          "count": 2,
          "frequency": 0.04081632653061224,
          "rarity_level": "rare"
        },
        "マシン": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "フリー": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "出勤シュッキン": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "0.3333333333333333": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "0.7083333333333334": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "記帳キチョウ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "外介ソトカイ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "入浴介助兼外介護ニュウヨクカイジョケンガイカイゴ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "研修（新人研修）ケンシュウシンジンケンシュウ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "0.3958333333333333": {
          "count": 2,
          "frequency": 0.04081632653061224,
          "rarity_level": "rare"
        },
        "0.4791666666666667": {
          "count": 2,
          "frequency": 0.04081632653061224,
          "rarity_level": "rare"
        },
        "外会短期ソトカイタンキ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "外会リーダーソトカイ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "0.5": {
          "count": 3,
          "frequency": 0.061224489795918366,
          "rarity_level": "moderate"
        },
        "リーダー午後半休ゴゴハンキュウ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "外会午後休みソトカイゴゴヤス": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "有給ユウキュウ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "施設休": {
          "count": 2,
          "frequency": 0.04081632653061224,
          "rarity_level": "rare"
        },
        "希望休キボウキュウ": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        },
        "半日出勤ハンニチシュッキン": {
          "count": 1,
          "frequency": 0.02040816326530612,
          "rarity_level": "rare"
        }
      },
      "staff_frequencies": {},
      "temporal_frequencies": {}
    }
  }
}